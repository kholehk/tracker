(this.webpackJsonptracker=this.webpackJsonptracker||[]).push([[0],{20:function(t,e,r){},35:function(t,e,r){"use strict";r.r(e);r(20);var c=r(0),a=r(7),n=r(3),s=r(4),i=r(17),o=r(18),u=r(8),l=r(5),b=r(2),j="MY_LOCAL_TRACKERS",O="GET_TRACKERS",f="POST_TRACKER",m="DEL_TRACKER",p="PAUSE_PLAY_TRACKER";function d(){return function(t){var e=[];try{if(e=JSON.parse(localStorage.getItem(j)),!Array.isArray(e))throw new Error("The trackers create array in local Storage")}catch(r){localStorage.setItem(j,"[]")}t({type:O,payload:e,storage:j})}}function k(t){return function(e){e(function(t){return{type:f,payload:t,storage:j}}(t))}}function y(t){return function(e){e(function(t){return{type:m,payload:t,storage:j}}(t))}}function v(t){return function(e){e(function(t){return{type:p,payload:t,storage:j}}(t))}}var h=Object.freeze({submit:{icon:"play_circle",isSubmit:!0},play:{icon:"play_circle_outline"},pause:{icon:"pause_circle_outline"},remove:{icon:"remove_circle_outline"}}),g=Object.freeze({title:"",start:null,isPlay:!0,intervals:[]}),x=r(1);var S=function(t){var e=t.type,r=t.style,c=t.handleTracker,a=r.margin,n=r.color,s=e.isSubmit,i=e.icon;return Object(x.jsx)("button",{className:"button circle ".concat(a),type:s?"submit":"button",onClick:function(t){return c&&c(t)},children:Object(x.jsx)("i",{className:"material-icons icon circle ".concat(n),children:i})})};var w=Object(s.b)((function(t){return{trackers:t.trackers.trackers}}))((function(t){var e=t.dispatch,r=Object(b.a)({},g),a=Object(c.useState)(r),n=Object(l.a)(a,2),s=n[0],i=n[1];return Object(x.jsxs)("form",{action:"#",className:"input-group circle",onSubmit:function(t){t.preventDefault();var c=s.title.trim()||"No name tracker",a=Date.now();e(k(Object(b.a)(Object(b.a)({},s),{},{title:c,start:a}))),i(r)},children:[Object(x.jsx)("input",{placeholder:"Enter tracker name",type:"text",name:"title",value:s.title,id:"new-tracker",className:"input circle",onChange:function(t){return function(t){var e=t.target,r=e.name,c=e.value;i(Object(b.a)(Object(b.a)({},s),{},Object(u.a)({},r,c)))}(t)}}),Object(x.jsx)(S,{type:h.submit,style:{margin:"",color:"green"}})]})})),E=r(10),_=r.n(E),N=r(19);r.n(N)()(_.a);var T=Object(s.b)((function(t){return{trackers:t.trackers.trackers}}))((function(t){var e=t.dispatch,r=t.idx,a=t.now,n=t.tracker,s=function(t){var e=n.intervals.reduce((function(t,e){return t+e}),0);return n.isPlay?Date.now()-t+e:e},i=Object(c.useState)(s(n.start)),o=Object(l.a)(i,2),u=o[0],b=o[1],j=Object(c.useState)(h.pause),O=Object(l.a)(j,2),f=O[0],m=O[1];return Object(c.useEffect)((function(){return b(s(n.start))}),[a]),Object(c.useEffect)((function(){return m(n.isPlay?h.pause:h.play)}),[n]),Object(x.jsxs)("li",{className:"item",children:[Object(x.jsx)("span",{className:"tracker-title",children:"#".concat(r+1," ").concat(n.title)}),Object(x.jsx)("span",{className:"tracker-time ml-1",children:_.a.duration(u).format("h:mm:ss")}),Object(x.jsx)(S,{type:f,style:{margin:"ml-1",color:"black"},handleTracker:function(){e(v(n))}}),Object(x.jsx)(S,{type:h.remove,style:{margin:"ml-1",color:"red"},handleTracker:function(){e(y(n))}})]})}));var R=Object(s.b)((function(t){return{trackers:t.trackers.trackers}}))((function(t){var e=t.dispatch,r=t.trackers,a=Object(c.useState)(Date.now()),n=Object(l.a)(a,2),s=n[0],i=n[1];return setInterval((function(){return i(Date.now())}),1e3),Object(c.useEffect)((function(){e(d())}),[e]),Object(x.jsx)("ul",{className:"list",children:r.map((function(t,e){return Object(x.jsx)(T,{idx:e,now:s,tracker:t},t.start)}))})}));var A=function(){return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h3",{children:"trackers"}),Object(x.jsx)(w,{}),Object(x.jsx)(R,{})]})},D=r(11),P={trackers:[]};var C=Object(n.combineReducers)({trackers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0,r=[],c=e.payload,a=function(t){return c.isPlay?[].concat(Object(D.a)(t.intervals),[Date.now()-c.start]):Object(D.a)(t.intervals)};switch(e.type){case O:r=c.map((function(t){return Object(b.a)(Object(b.a)({},g),t)}));break;case f:r=[c].concat(Object(D.a)(t.trackers));break;case m:r=t.trackers.filter((function(t){return t.start!==c.start}));break;case p:r=t.trackers.map((function(t){return t.start===c.start?Object(b.a)(Object(b.a)({},t),{},{isPlay:!c.isPlay,start:Date.now(),intervals:a(c)}):t}));break;default:return t}return localStorage.setItem(e.storage,JSON.stringify(r)),{trackers:r}}}),I=Object(n.createStore)(C,Object(o.composeWithDevTools)(Object(n.applyMiddleware)(i.a)));Object(a.render)(Object(x.jsx)(s.a,{store:I,children:Object(x.jsx)(A,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.0c14a9f8.chunk.js.map