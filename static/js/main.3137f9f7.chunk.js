(this.webpackJsonptracker=this.webpackJsonptracker||[]).push([[0],{20:function(e,t,r){},35:function(e,t,r){"use strict";r.r(t);r(20);var c=r(0),a=r(7),n=r(3),s=r(4),i=r(17),o=r(18),l=r(8),u=r(5),b=r(2),j="GET_TRACKERS",O="POST_TRACKER",m="DEL_TRACKER",f="PAUSE_PLAY_TRACKER",p=Object.freeze({submit:{icon:"play_circle",isSubmit:!0},play:{icon:"play_circle_outline"},pause:{icon:"pause_circle_outline"},remove:{icon:"remove_circle_outline"}}),d=Object.freeze({title:"",start:null,isPlay:!0,intervals:[]}),k=r(1);var y=function(e){var t=e.type,r=e.style,c=e.handleTracker,a=r.margin,n=r.color,s=t.isSubmit,i=t.icon;return Object(k.jsx)("button",{className:"button circle ".concat(a),type:s?"submit":"button",onClick:function(e){return c&&c(e)},children:Object(k.jsx)("i",{className:"material-icons icon circle ".concat(n),children:i})})};var v=Object(s.b)((function(e){return{trackers:e.trackersReducer.trackers}}))((function(e){var t=e.dispatch,r=Object(b.a)({},d),a=Object(c.useState)(r),n=Object(u.a)(a,2),s=n[0],i=n[1];return Object(k.jsxs)("form",{action:"#",className:"input-group circle",onSubmit:function(e){e.preventDefault();var c,a=s.title.trim()||"No name tracker",n=Date.now();t((c=Object(b.a)(Object(b.a)({},s),{},{title:a,start:n}),{type:O,payload:c})),i(r)},children:[Object(k.jsx)("input",{placeholder:"Enter tracker name",type:"text",name:"title",value:s.title,id:"new-tracker",className:"input circle",onChange:function(e){return function(e){var t=e.target,r=t.name,c=t.value;i(Object(b.a)(Object(b.a)({},s),{},Object(l.a)({},r,c)))}(e)}}),Object(k.jsx)(y,{type:p.submit,style:{margin:"",color:"green"}})]})})),h=r(10),x=r.n(h),S=r(19);r.n(S)()(x.a);var g=Object(s.b)((function(e){return{trackers:e.trackersReducer.trackers}}))((function(e){var t=e.dispatch,r=e.idx,a=e.now,n=e.tracker,s=function(e){var t=n.intervals.reduce((function(e,t){return e+t}),0);return n.isPlay?Date.now()-e+t:t},i=Object(c.useState)(s(n.start)),o=Object(u.a)(i,2),l=o[0],b=o[1],j=Object(c.useState)(p.pause),O=Object(u.a)(j,2),d=O[0],v=O[1];return Object(c.useEffect)((function(){return b(s(n.start))}),[a]),Object(c.useEffect)((function(){return v(n.isPlay?p.pause:p.play)}),[n]),Object(k.jsxs)("li",{className:"item",children:[Object(k.jsx)("span",{className:"tracker-title",children:"#".concat(r+1," ").concat(n.title)}),Object(k.jsx)("span",{className:"tracker-time ml-1",children:x.a.duration(l).format("h:mm:ss")}),Object(k.jsx)(y,{type:d,style:{margin:"ml-1",color:"black"},handleTracker:function(){t(function(e){return{type:f,payload:e}}(n))}}),Object(k.jsx)(y,{type:p.remove,style:{margin:"ml-1",color:"red"},handleTracker:function(){t(function(e){return{type:m,payload:e}}(n))}})]})}));var w=Object(s.b)((function(e){return{trackers:e.trackersReducer.trackers}}))((function(e){var t=e.dispatch,r=e.trackers,a=Object(c.useState)(Date.now()),n=Object(u.a)(a,2),s=n[0],i=n[1];return setInterval((function(){return i(Date.now())}),1e3),Object(c.useEffect)((function(){t({type:j})}),[t]),Object(k.jsx)("ul",{className:"list",children:r.map((function(e,t){return Object(k.jsx)(g,{idx:t,now:s,tracker:e},e.start)}))})}));var R=function(){return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("h3",{children:"trackers"}),Object(k.jsx)(v,{}),Object(k.jsx)(w,{})]})},E=r(11),_="MY_LOCAL_TRACKERS",N={trackers:[]};var T=Object(n.combineReducers)({trackersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,r=[],c=t.payload,a=function(e){return c.isPlay?[].concat(Object(E.a)(e.intervals),[Date.now()-c.start]):Object(E.a)(e.intervals)},n=function(){var e=[];try{if(e=JSON.parse(localStorage.getItem(_))||[],!Array.isArray(e))throw new Error("The trackers create array in local Storage")}catch(t){localStorage.setItem(_,"[]")}return e};switch(t.type){case j:r=n().map((function(e){return Object(b.a)(Object(b.a)({},d),e)}));break;case O:r=[c].concat(Object(E.a)(e.trackers));break;case m:r=e.trackers.filter((function(e){return e.start!==c.start}));break;case f:r=e.trackers.map((function(e){return e.start===c.start?Object(b.a)(Object(b.a)({},e),{},{isPlay:!c.isPlay,start:Date.now(),intervals:a(c)}):e}));break;default:return e}return localStorage.setItem(_,JSON.stringify(r)),{trackers:r}}}),A=Object(n.createStore)(T,Object(o.composeWithDevTools)(Object(n.applyMiddleware)(i.a)));Object(a.render)(Object(k.jsx)(s.a,{store:A,children:Object(k.jsx)(R,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.3137f9f7.chunk.js.map