(this.webpackJsonptracker=this.webpackJsonptracker||[]).push([[0],{20:function(t,e,r){},35:function(t,e,r){"use strict";r.r(e);r(20);var c=r(0),a=r(7),n=r(2),i=r(3),o=r(16),s=r(17),u=r(8),l=r(4),b=r(5),j="MY_LOCAL_TRACKERS",O="GET_TRACKERS",m="POST_TRACKER",f="DEL_TRACKER";function p(){return function(t){try{var e=JSON.parse(localStorage.getItem(j));if(!Array.isArray(e))throw new Error("The trackers must be in an array");t({type:O,payload:e})}catch(r){localStorage.setItem(j,"[]")}}}function d(t){return function(e){e(function(t){return{type:m,payload:t,storage:j}}(t))}}function k(t){return function(e){e(function(t){return{type:f,payload:t,storage:j}}(t))}}var h=Object.freeze({submit:{icon:"play_circle",isSubmit:!0},play:{icon:"play_circle_outline"},pause:{icon:"pause_circle_outline"},remove:{icon:"remove_circle_outline"}}),v=Object.freeze({margin:"",color:"green"}),y=r(1);var x=function(t){var e=t.type,r=t.decoration,c=t.handleTracker;return Object(y.jsx)("button",{className:"button circle ".concat(r.margin),type:e.isSubmit?"submit":"button",onClick:function(){return c&&c()},children:Object(y.jsx)("i",{className:"material-icons icon circle ".concat(r.color),children:e.icon})})};var g=Object(i.b)((function(t){return{trackers:t.trackers.trackers}}))((function(t){var e=t.dispatch,r=Object(b.a)({},v),a={title:"",start:null},n=Object(c.useState)(a),i=Object(l.a)(n,2),o=i[0],s=i[1];return Object(y.jsxs)("form",{action:"#",className:"input-group circle",onSubmit:function(t){t.preventDefault();var r=o.title.trim()||"No name tracker",c=Date.now();e(d(Object(b.a)(Object(b.a)({},o),{},{title:r,start:c}))),s(a)},children:[Object(y.jsx)("input",{placeholder:"Enter tracker name",type:"text",name:"title",value:o.title,id:"new-tracker",className:"input circle",onChange:function(t){return function(t){var e=t.target,r=e.name,c=e.value;s(Object(b.a)(Object(b.a)({},o),{},Object(u.a)({},r,c)))}(t)}}),Object(y.jsx)(x,{type:h.submit,decoration:r})]})})),S=r(10),w=r.n(S),N=r(18);r.n(N)()(w.a);var _=Object(i.b)((function(t){return{trackers:t.trackers.trackers}}))((function(t){var e=t.dispatch,r=t.idx,a=t.now,n=t.tracker,i=function(t){return Date.now()-t},o=Object(c.useState)(i(n.start)),s=Object(l.a)(o,2),u=s[0],b=s[1];return Object(c.useEffect)((function(){return b(i(n.start))}),[a]),Object(y.jsxs)("li",{className:"item",children:[Object(y.jsx)("span",{className:"tracker-title",children:"#".concat(r+1," ").concat(n.title)}),Object(y.jsx)("span",{className:"tracker-time ml-1",children:w.a.duration(u).format("h:mm:ss")}),Object(y.jsx)(x,{type:h.pause,decoration:{margin:"ml-1",color:"black"},handleTracker:function(){}}),Object(y.jsx)(x,{type:h.remove,decoration:{margin:"ml-1",color:"red"},handleTracker:function(){e(k(n))}})]})}));var E=Object(i.b)((function(t){return{trackers:t.trackers.trackers}}))((function(t){var e=t.dispatch,r=t.trackers,a=Object(c.useState)(Date.now()),n=Object(l.a)(a,2),i=n[0],o=n[1];return setInterval((function(){return o(Date.now())}),1e3),Object(c.useEffect)((function(){e(p())}),[e]),Object(y.jsx)("ul",{className:"list",children:r.map((function(t,e){return Object(y.jsx)(_,{idx:e,now:i,tracker:t},t.start)}))})}));var T=function(){return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h3",{children:"tracker"}),Object(y.jsx)(g,{}),Object(y.jsx)(E,{})]})},R=r(19),A={trackers:[]};var C=Object(n.combineReducers)({trackers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0,r=[];switch(e.type){case O:return{trackers:e.payload};case m:r=[e.payload].concat(Object(R.a)(t.trackers));break;case f:r=t.trackers.filter((function(t){return t.start!==e.payload.start}));break;default:return t}return localStorage.setItem(e.storage,JSON.stringify(r)),{trackers:r}}}),D=Object(n.createStore)(C,Object(s.composeWithDevTools)(Object(n.applyMiddleware)(o.a)));Object(a.render)(Object(y.jsx)(i.a,{store:D,children:Object(y.jsx)(T,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.e27d3dfb.chunk.js.map