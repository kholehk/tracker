{"version":3,"sources":["actions/trackersActions.js","utils/types.js","components/Button.jsx","components/Form.jsx","components/Item.jsx","components/List.jsx","App.jsx","reducers/trackersReducer.js","reducers/index.js","index.jsx"],"names":["GET_TRACKERS","POST_TRACKER","DEL_TRACKER","PAUSE_PLAY_TRACKER","buttonType","Object","freeze","submit","icon","isSubmit","play","pause","remove","trackerType","title","start","isPlay","intervals","Button","type","style","handleTracker","margin","color","className","onClick","event","connect","state","trackers","trackersReducer","dispatch","initNewTracker","useState","newTracker","setNewTracker","action","onSubmit","preventDefault","tracker","trim","Date","now","payload","placeholder","name","value","id","onChange","target","handleInputChange","momentDurationFormatSetup","moment","idx","hasPassed","prevInterval","reduce","acc","cur","time","setTime","pauseplayButton","setPauseplayButton","useEffect","duration","format","pauseplayTracker","deleteTracker","setNow","setInterval","map","App","trackersStorage","initialState","rootReducer","combineReducers","pushInterval","getTrackers","data","JSON","parse","localStorage","getItem","Array","isArray","Error","error","setItem","actions","filter","stringify","store","createStore","composeWithDevTools","applyMiddleware","thunk","render","document","getElementById"],"mappings":"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","file":"static/js/main.3137f9f7.chunk.js","sourcesContent":["export const GET_TRACKERS = 'GET_TRACKERS';\nexport const POST_TRACKER = 'POST_TRACKER';\nexport const DEL_TRACKER = 'DEL_TRACKER';\nexport const PAUSE_PLAY_TRACKER = 'PAUSE_PLAY_TRACKER';\n\nexport const getTrackers = () => ({\n  type: GET_TRACKERS,\n});\n\nexport const postTracker = (tracker) => ({\n  type: POST_TRACKER,\n  payload: tracker,\n});\n\nexport const deleteTracker = (tracker) => ({\n  type: DEL_TRACKER,\n  payload: tracker,\n});\n\nexport const pauseplayTracker = (tracker) => ({\n  type: PAUSE_PLAY_TRACKER,\n  payload: tracker,\n});\n","const buttonType = Object.freeze({\n  submit: { icon: 'play_circle', isSubmit: true },\n  play: { icon: 'play_circle_outline' },\n  pause: { icon: 'pause_circle_outline' },\n  remove: { icon: 'remove_circle_outline' },\n});\n\nconst trackerType = Object.freeze({\n  title: '', start: null, isPlay: true, intervals: [],\n});\n\nexport { buttonType, trackerType };\n","/* eslint-disable react/prop-types */\nimport React from 'react';\n\nfunction Button({\n  type, style, handleTracker,\n}) {\n  const { margin, color } = style;\n  const { isSubmit, icon } = type;\n\n  return (\n    <button\n      className={`button circle ${margin}`}\n      type={isSubmit ? 'submit' : 'button'}\n      onClick={(event) => handleTracker && handleTracker(event)}\n    >\n      <i className={`material-icons icon circle ${color}`}>\n        {icon}\n      </i>\n    </button>\n  );\n}\n\nexport default Button;\n","/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { postTracker } from '../actions/trackersActions';\nimport { buttonType, trackerType } from '../utils/types';\nimport Button from './Button';\n\nfunction Form({ dispatch }) {\n  const initNewTracker = { ...trackerType };\n  const [newTracker, setNewTracker] = useState(initNewTracker);\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n\n    setNewTracker({ ...newTracker, [name]: value });\n  };\n\n  return (\n    <form\n      action=\"#\"\n      className=\"input-group circle\"\n      onSubmit={(event) => {\n        event.preventDefault();\n        const title = newTracker.title.trim() || 'No name tracker';\n        const start = Date.now();\n        dispatch(postTracker({\n          ...newTracker, title, start,\n        }));\n        setNewTracker(initNewTracker);\n      }}\n    >\n      <input\n        placeholder=\"Enter tracker name\"\n        type=\"text\"\n        name=\"title\"\n        value={newTracker.title}\n        id=\"new-tracker\"\n        className=\"input circle\"\n        onChange={(event) => handleInputChange(event)}\n      />\n      <Button\n        type={buttonType.submit}\n        style={{ margin: '', color: 'green' }}\n      />\n    </form>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  trackers: state.trackersReducer.trackers,\n});\n\nexport default connect(mapStateToProps)(Form);\n","/* eslint-disable react/prop-types */\nimport moment from 'moment';\nimport momentDurationFormatSetup from 'moment-duration-format';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { deleteTracker, pauseplayTracker } from '../actions/trackersActions';\nimport { buttonType } from '../utils/types';\nimport Button from './Button';\n\nmomentDurationFormatSetup(moment);\n\nfunction Item({\n  dispatch, idx, now, tracker,\n}) {\n  const hasPassed = (start) => {\n    const prevInterval = tracker.intervals.reduce((acc, cur) => (acc + cur), 0);\n    return tracker.isPlay ? (Date.now() - start + prevInterval) : prevInterval;\n  };\n  const [time, setTime] = useState(hasPassed(tracker.start));\n  const [pauseplayButton, setPauseplayButton] = useState(buttonType.pause);\n\n  useEffect(() => setTime(hasPassed(tracker.start)), [now]);\n\n  useEffect(\n    () => setPauseplayButton(tracker.isPlay ? buttonType.pause : buttonType.play),\n    [tracker],\n  );\n\n  const handlePausePlayTracker = () => {\n    dispatch(pauseplayTracker(tracker));\n  };\n\n  const handleDeleteTracker = () => {\n    dispatch(deleteTracker(tracker));\n  };\n\n  return (\n    <li className=\"item\">\n      <span className=\"tracker-title\">{`#${idx + 1} ${tracker.title}`}</span>\n      <span className=\"tracker-time ml-1\">\n        {\n          moment.duration(time).format('h:mm:ss')\n        }\n      </span>\n      <Button\n        type={pauseplayButton}\n        style={{ margin: 'ml-1', color: 'black' }}\n        handleTracker={handlePausePlayTracker}\n      />\n      <Button\n        type={buttonType.remove}\n        style={{ margin: 'ml-1', color: 'red' }}\n        handleTracker={handleDeleteTracker}\n      />\n    </li>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  trackers: state.trackersReducer.trackers,\n});\n\nexport default connect(mapStateToProps)(Item);\n","/* eslint-disable react/prop-types */\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { getTrackers } from '../actions/trackersActions';\n\nimport Item from './Item';\n\nfunction List({ dispatch, trackers }) {\n  const [now, setNow] = useState(Date.now());\n\n  setInterval(() => setNow(Date.now()), 1000);\n\n  useEffect(() => {\n    dispatch(getTrackers());\n  }, [dispatch]);\n\n  return (\n    <ul className=\"list\">\n      {trackers.map(\n        (tracker, idx) => (<Item idx={idx} now={now} tracker={tracker} key={tracker.start} />),\n      )}\n    </ul>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  trackers: state.trackersReducer.trackers,\n});\n\nexport default connect(mapStateToProps)(List);\n","import React from 'react';\nimport Form from './components/Form';\nimport List from './components/List';\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <h3>trackers</h3>\n      <Form />\n      <List />\n    </div>\n  );\n}\n\nexport default App;\n","import * as actions from '../actions/trackersActions';\nimport { trackerType } from '../utils/types';\n\nconst trackersStorage = 'MY_LOCAL_TRACKERS';\n\nexport const initialState = {\n  trackers: [],\n};\n\nexport default function trackersReducer(state = initialState, action) {\n  let trackers = [];\n  const { payload } = action;\n\n  const pushInterval = (tracker) => (\n    payload.isPlay\n      ? [...tracker.intervals, Date.now() - payload.start]\n      : [...tracker.intervals]\n  );\n\n  const getTrackers = () => {\n    let data = [];\n\n    try {\n      data = JSON.parse(localStorage.getItem(trackersStorage)) || [];\n\n      if (!Array.isArray(data)) throw new Error('The trackers create array in local Storage');\n    } catch (error) {\n      localStorage.setItem(trackersStorage, '[]');\n    }\n\n    return data;\n  };\n\n  switch (action.type) {\n    case actions.GET_TRACKERS:\n      trackers = getTrackers().map((tracker) => ({ ...trackerType, ...tracker }));\n      break;\n    case actions.POST_TRACKER:\n      trackers = [payload, ...state.trackers];\n      break;\n    case actions.DEL_TRACKER:\n      trackers = state.trackers.filter((tracker) => (tracker.start !== payload.start));\n      break;\n    case actions.PAUSE_PLAY_TRACKER:\n      trackers = state.trackers.map(\n        (tracker) => ((tracker.start === payload.start)\n          ? {\n            ...tracker,\n            isPlay: !payload.isPlay,\n            start: Date.now(),\n            intervals: pushInterval(payload),\n          }\n          : tracker),\n      );\n      break;\n    default:\n      return state;\n  }\n\n  localStorage.setItem(trackersStorage, JSON.stringify(trackers));\n  return { trackers };\n}\n","import { combineReducers } from 'redux';\n\nimport trackersReducer from './trackersReducer';\n\nconst rootReducer = combineReducers({\n  trackersReducer,\n});\n\nexport default rootReducer;\n","import './index.css';\n\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport App from './App';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}