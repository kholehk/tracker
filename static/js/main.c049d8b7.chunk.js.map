{"version":3,"sources":["actions/trackersActions.js","utils/types.js","components/Button.jsx","components/Form.jsx","components/Item.jsx","components/List.jsx","App.jsx","reducers/trackersReducer.js","reducers/index.js","index.jsx"],"names":["trackersStorage","GET_TRACKERS","POST_TRACKER","DEL_TRACKER","readTrackers","dispatch","data","JSON","parse","localStorage","getItem","Array","isArray","Error","type","payload","error","setItem","createTracker","tracker","storage","postTracker","deleteTracker","delTracker","buttonType","Object","freeze","submit","icon","isSubmit","play","pause","remove","decorationType","margin","color","Button","props","decoration","handleTracker","className","onClick","connect","state","trackers","initNewTracker","title","start","useState","newTracker","setNewTracker","action","onSubmit","event","preventDefault","trim","Date","now","placeholder","name","value","id","onChange","target","handleInputChange","momentDurationFormatSetup","moment","hasPassed","time","setTime","useEffect","duration","format","map","App","initialState","rootReducer","combineReducers","actions","filter","stringify","store","createStore","composeWithDevTools","applyMiddleware","thunk","render","document","getElementById"],"mappings":"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","file":"static/js/main.c049d8b7.chunk.js","sourcesContent":["const trackersStorage = 'MY_LOCAL_TRACKERS';\n\nexport const GET_TRACKERS = 'GET_TRACKERS';\nexport const POST_TRACKER = 'POST_TRACKER';\nexport const DEL_TRACKER = 'DEL_TRACKER';\n\nexport const getTrackers = (trackers) => ({\n  type: GET_TRACKERS,\n  payload: trackers,\n});\n\nexport const postTracker = (tracker) => ({\n  type: POST_TRACKER,\n  payload: tracker,\n  storage: trackersStorage,\n});\n\nexport const delTracker = (tracker) => ({\n  type: DEL_TRACKER,\n  payload: tracker,\n  storage: trackersStorage,\n});\n\nexport function readTrackers() {\n  return (dispatch) => {\n    try {\n      const data = JSON.parse(localStorage.getItem(trackersStorage));\n\n      if (!Array.isArray(data)) throw new Error('The trackers must be in an array');\n      dispatch(getTrackers(data));\n    } catch (error) {\n      localStorage.setItem(trackersStorage, '[]');\n    }\n  };\n}\n\nexport function createTracker(tracker) {\n  return (dispatch) => {\n    dispatch(postTracker(tracker));\n  };\n}\n\nexport function deleteTracker(tracker) {\n  return (dispatch) => {\n    dispatch(delTracker(tracker));\n  };\n}\n","const buttonType = Object.freeze({\n  submit: { icon: 'play_circle', isSubmit: true },\n  play: { icon: 'play_circle_outline' },\n  pause: { icon: 'pause_circle_outline' },\n  remove: { icon: 'remove_circle_outline' },\n});\n\nconst decorationType = Object.freeze({\n  margin: '',\n  color: 'green',\n});\n\nexport { buttonType, decorationType };\n","/* eslint-disable react/prop-types */\nimport React from 'react';\n\nfunction Button(props) {\n  const { type, decoration, handleTracker } = props;\n\n  return (\n    <button\n      className={`button circle ${decoration.margin}`}\n      type={type.isSubmit ? 'submit' : 'button'}\n      onClick={() => handleTracker && handleTracker()}\n    >\n      <i className={`material-icons icon circle ${decoration.color}`}>\n        {type.icon}\n      </i>\n    </button>\n  );\n}\n\nexport default Button;\n","/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { createTracker } from '../actions/trackersActions';\nimport { buttonType, decorationType } from '../utils/types';\nimport Button from './Button';\n\nfunction Form({ dispatch }) {\n  const decoration = { ...decorationType };\n  const initNewTracker = { title: '', start: null };\n  const [newTracker, setNewTracker] = useState(initNewTracker);\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n\n    setNewTracker({ ...newTracker, [name]: value });\n  };\n\n  return (\n    <form\n      action=\"#\"\n      className=\"input-group circle\"\n      onSubmit={(event) => {\n        event.preventDefault();\n        const title = newTracker.title.trim() || 'No name tracker';\n        const start = Date.now();\n        dispatch(createTracker({ ...newTracker, title, start }));\n        setNewTracker(initNewTracker);\n      }}\n    >\n      <input\n        placeholder=\"Enter tracker name\"\n        type=\"text\"\n        name=\"title\"\n        value={newTracker.title}\n        id=\"new-tracker\"\n        className=\"input circle\"\n        onChange={(event) => handleInputChange(event)}\n      />\n      <Button\n        type={buttonType.submit}\n        decoration={decoration}\n      />\n    </form>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  trackers: state.trackers.trackers,\n});\n\nexport default connect(mapStateToProps)(Form);\n","/* eslint-disable react/prop-types */\nimport moment from 'moment';\nimport momentDurationFormatSetup from 'moment-duration-format';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { deleteTracker } from '../actions/trackersActions';\nimport { buttonType } from '../utils/types';\nimport Button from './Button';\n\nmomentDurationFormatSetup(moment);\n\nfunction Item({ dispatch, tracker }) {\n  const hasPassed = (start) => (Date.now() - start);\n  const [time, setTime] = useState(hasPassed(tracker.start));\n\n  useEffect(() => { setTime(hasPassed(tracker.start)); }, [Date.now(), tracker.start]);\n\n  const handlePlayTracker = () => { };\n\n  const handleDeleteTracker = () => {\n    dispatch(deleteTracker(tracker));\n  };\n\n  return (\n    <li className=\"item\">\n      <span className=\"tracker-title\">{tracker.title}</span>\n      <span className=\"tracker-time ml-1\">\n        {\n          // moment(time).format('DD hh:mm:ss')\n          moment.duration(time).format('h:mm:ss')\n        }\n      </span>\n      <Button\n        type={buttonType.pause}\n        decoration={{ margin: 'ml-1', color: 'black' }}\n        handleTracker={handlePlayTracker}\n      />\n      <Button\n        type={buttonType.remove}\n        decoration={{ margin: 'ml-1', color: 'red' }}\n        handleTracker={handleDeleteTracker}\n      />\n    </li>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  trackers: state.trackers.trackers,\n});\n\nexport default connect(mapStateToProps)(Item);\n","/* eslint-disable react/prop-types */\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport { readTrackers } from '../actions/trackersActions';\n\nimport Item from './Item';\n\nfunction List({ dispatch, trackers }) {\n  useEffect(() => {\n    dispatch(readTrackers());\n  }, [dispatch]);\n\n  return (\n    <ul className=\"list\">\n      {trackers.map(\n        (tracker) => (<Item tracker={tracker} key={tracker.start} />),\n      )}\n    </ul>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  trackers: state.trackers.trackers,\n});\n\nexport default connect(mapStateToProps)(List);\n","import React from 'react';\nimport Form from './components/Form';\nimport List from './components/List';\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <h3>tracker</h3>\n      <Form />\n      <List />\n    </div>\n  );\n}\n\nexport default App;\n","import * as actions from '../actions/trackersActions';\n\nexport const initialState = {\n  trackers: [],\n};\n\nexport default function trackersReducer(state = initialState, action) {\n  let trackers = [];\n\n  switch (action.type) {\n    case actions.GET_TRACKERS:\n      return { trackers: action.payload };\n    case actions.POST_TRACKER:\n      trackers = [action.payload, ...state.trackers];\n      break;\n    case actions.DEL_TRACKER:\n      trackers = state.trackers.filter((tracker) => (tracker.start !== action.payload.start));\n      break;\n    default:\n      return state;\n  }\n\n  localStorage.setItem(action.storage, JSON.stringify(trackers));\n  return { trackers };\n}\n","import { combineReducers } from 'redux';\n\nimport trackersReducer from './trackersReducer';\n\nconst rootReducer = combineReducers({\n  trackers: trackersReducer,\n});\n\nexport default rootReducer;\n","import './index.css';\n\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport App from './App';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}